# マルチエージェントロードマップ

## 📋 ドキュメント情報
- **作成日**: 2025-11-15
- **対象**: マルチエージェントチャット/UI機能
- **目的**: フェーズ別マイルストーンと依存関係の可視化

---

## 🧭 全体方針
1. **要件の精緻化**: 機能要件・UI要件・安全要件を明文化（完了）。
2. **UX検証**: WebRTC表示、チャット開閉アニメ、クイックアクションの操作感をPoCで確認。
3. **段階的実装**: 既存4分割レイアウトを壊さずにチャットペイン・タスク表示を統合。
4. **拡張準備**: モバイル入力、Slack通知、音声入力を後期フェーズで追加できるようAPIを抽象化。

---

## 📆 マイルストーン
| 期間 | マイルストーン | 主要アウトプット | 依存 |
|------|----------------|------------------|------|
| 2025-11-15〜11-22 | Phase 0: 仕様確定 | 要件定義書・UI要件書 | 既存4画面レイアウト |
| 2025-11-25〜12-06 | Phase 1: UX PoC | WebRTC表示PoC、AIペインアニメ試作 | Phase 0完了 |
| 2025-12-09〜12-27 | Phase 2: コア実装 | AIペイン、ステータステレメトリ、Quick Action | PoC結果 |
| 2026-01-05〜01-24 | Phase 3: 安全 & 連携 | 権限テンプレUI、Esc停止、Slack通知下地 | Phase 2完了 |
| 2026-01-27〜02-14 | Phase 4: モバイル/音声準備 | モバイルレスポンシブ、音声入力API Hook | Phase 3 |

---

## 🧱 フェーズ詳細

### Phase 0: 仕様確定（完了）
- ドキュメント: `docs/multi-agent-chat-requirements.md`, `docs/multi-agent-chat-ui.md`。
- 成果: タスクログ保持方針、WebRTC採用、AIボタン開閉、Esc停止などの共通理解。

### Phase 1: UX PoC（2025-11-25〜12-06）
- AIペインスライド＋フェードの実装検証。
- WebRTC 4ストリーム同時表示の負荷測定。
- Quick Actionバー（右下ポップアップ）をモックで検証。

### Phase 2: コア実装（2025-12-09〜12-27）
- チャットペイン本実装、Screenタブ連動、ステータスログ（Tool/MCP/APIキー表示）。
- Esc/Stopボタン連携とAtlas風エメラルドボーダー。
- クイックアクション入力とタスク割当ロジック実装。

### Phase 3: 安全・連携強化（2026-01-05〜01-24）
- 権限テンプレ＋カスタムUI、破壊的操作のチャット承認フロー。
- Slack通知/Webhookの下地、モバイルからのタスク投入API。
- ログ暗号化・保持ポリシーの実装、監査ログエクスポート。

### Phase 4: モバイル/音声準備（2026-01-27〜02-14）
- レスポンシブチャットUIとPiPビュー検討。
- スペースキー長押し→音声入力のUXプロトタイプ。
- モデル/APIキー管理UIの最適化。

---

## ⚠️ リスクと対策
- **WebRTC負荷**: 4ストリーム同時配信でCPU/帯域が逼迫する可能性 → Phase1でSFU採用可否を判断。
- **UI複雑度**: 画面分割とチャットが干渉する恐れ → レイアウトリサイズのユニットテスト/ストーリーブックで検証。
- **安全要件**: Esc停止や破壊的操作承認の遅延 → キーイベントとAPI呼び出しを疎結合に設計。

---

## ✅ 次アクション
1. Phase1 PoCの担当アサインとスプリント計画。
2. Slack通知・音声入力の技術スタック調査タスクを起票。
3. モバイルUXプロトタイプのワイヤー作成。

